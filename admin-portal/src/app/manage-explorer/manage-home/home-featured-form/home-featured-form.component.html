<mat-toolbar>
  <span>{{service.form.controls['id'].value ? "Update Home-Featured" : "New Home-Featured"}}</span>
  <span class="fill-remaining-space"></span>
  <button class="btn-dialog-close" mat-stroked-button (click)="saveAndAddNewTapped ? onClose('created') : onClose(null)" tabIndex="-1">
    <mat-icon>clear</mat-icon>
  </button>
</mat-toolbar>

<mat-dialog-content style="padding-right: 7px;">
  <mat-card class="card"  style="padding:16px">

  <form [formGroup] = "service.form" class="normal-form" (ngSubmit)="onSubmit()">
    <mat-grid-list cols="2" rowHeight="500">
      <mat-grid-tile>
        <div class="controls-container">
  
          <!-- <input type="hidden" formControlName="id"> -->
          <input type="hidden" formControlName="ui_type">
          <input type="hidden" formControlName="image_link">
          <input type="hidden" formControlName="image_filename">
          <!-- <mat-form-field>
            <mat-label>Linked Element Type</mat-label>
            <mat-select    (selectionChange)="onLinkableElementTypesSelectionChange($event.value)" formControlName="linked_element_type">
              <mat-option  *ngFor="let type of linkableElementTypes;let selectedPosition=index" [value]="type.name">{{type.name}}</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field>
              <mat-label>Linked Element</mat-label>
              <mat-select [disabled]="disableLinkableElementSelection"  (selectionChange)="onLinkableElementSelectionChange($event.value)" formControlName="linked_element_id">
                <mat-option  *ngFor="let element of currentLinkableElements;let selectedPosition=index" [value]="element.id">{{element.name}}</mat-option>
              </mat-select>
          </mat-form-field> -->

          <!-- <mat-form-field>
            <input formControlName="type_title" matInput value="FEATURED" placeholder="Type Title*">
            <mat-error *ngIf="service.form.controls['type_title'].hasError('required')">Type title is required</mat-error>
          </mat-form-field> -->

          <mat-form-field>
              <input formControlName="title" matInput placeholder="Title*">
              <mat-error *ngIf="service.form.controls['title'].hasError('required')">Title is required</mat-error>
          </mat-form-field>

          <mat-form-field>
              <input formControlName="sub_title" matInput placeholder="Subtitle*">
              <mat-error *ngIf="service.form.controls['sub_title'].hasError('required')">Subtitle is required</mat-error>
          </mat-form-field>

          


          <mat-form-field>
              <mcc-color-picker mccConnectedColorPicker [mccConnectedColorPickerOrigin]="trigger1"></mcc-color-picker>
            <input matInput mccColorPickerOrigin #trigger1="mccColorPickerOrigin" formControlName="tile_bg_color" placeholder="Tile Bg Color*"/>
            <mat-error>Tile Bg Color is required</mat-error>
          </mat-form-field>


          <mat-form-field>
              <mcc-color-picker mccConnectedColorPicker [mccConnectedColorPickerOrigin]="trigger2"></mcc-color-picker>
            <input matInput mccColorPickerOrigin #trigger2="mccColorPickerOrigin" formControlName="tile_fg_color" placeholder="Tile Fg Color*"/>
            <mat-error>Tile Fg Color is required</mat-error>
          </mat-form-field>


          <!-- <mat-form-field>
            <input formControlName="tile_bg_color" matInput placeholder="Tile Bg Color*">
            
            <mat-error *ngIf="service.form.controls['tile_bg_color'].hasError('required')">Tile Bg Color is required</mat-error>
          </mat-form-field> -->
         



          <!-- <mat-form-field>
            <input formControlName="tile_fg_color" matInput placeholder="Tile Fg Color*">
            <mat-error *ngIf="service.form.controls['tile_fg_color'].hasError('required')">Tile Fg Color is required</mat-error>
          </mat-form-field> -->

          <mat-form-field>
            <input formControlName="url" matInput placeholder="URL*">
            <mat-error *ngIf="service.form.controls['url'].hasError('required')">Url is required</mat-error>
        </mat-form-field>
          
        </div>
      </mat-grid-tile>

      <mat-grid-tile>
        <div class="controls-container">
            
          <input
            style="display: none"
            type="file" (change)="onFileChanged($event)"
            #fileInput>

              <!-- <mat-icon *ngIf="showHomeFeaturedImage && !uploadingFile" id="object" class="SVGIconCSS" svgIcon="modelSvgIcon">
              </mat-icon> -->
           
              <img *ngIf="showHomeFeaturedImage && !uploadingFile" [src]="imageURL" style="height: 280px;width: 100%; background-color: dimgrey; max-width:100%;
              height:auto;" alt="image">


            <button *ngIf="!uploadingFile" style="margin-top:10px;margin-bottom:10px" (click)="fileInput.click()" mat-raised-button color="primary" type="button">{{service.form.controls['image_filename'].value ? "Edit Featured Image" : "Add Featured Image"}}</button>
            <mat-progress-spinner [hidden] = "!uploadingFile" [value] = "uploadedPercntValue" style="margin:0 auto" ></mat-progress-spinner>
        </div>
      </mat-grid-tile>

    </mat-grid-list>

  </form>

</mat-card>
</mat-dialog-content>

  <div class = "button-container">
    <div class="button-row">
        <button mat-raised-button color="basic" type="button" (click)="onCancel()">Cancel</button>
        <button mat-raised-button color="warn" type="button" [disabled]="service.form.pristine" (click)="onClear()" *ngIf="!service.form.controls['id'].value">Clear</button>
        <button mat-raised-button color="primary" type="button" (click)="onSubmit()" [disabled]="service.form.invalid || uploadingFile">Save</button>
        <button mat-raised-button color="primary" type="button" (click)="onSubmitnAddNew()" [disabled]="service.form.invalid || uploadingFile" *ngIf="!service.form.controls['id'].value">Save and Add Another</button>
      </div>
</div>




